---
layout: post
title: ğŸ“– [ë°±ì¤€ì•Œê³ ë¦¬ì¦˜ í’€ì´] Q.5670 íœ´ëŒ€í° ìíŒ ë¬¸ì œ í’€ì´ - java
category : Algorithm
tags: [Algorithm,boj, string, trie]
---
# ğŸ“– ë¬¸ì œ
<https://www.acmicpc.net/problem/5670>

íœ´ëŒ€í°ì—ì„œ ê¸¸ì´ê°€ Pì¸ ì˜ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ë ¤ë©´ ë²„íŠ¼ì„ Pë²ˆ ëˆŒëŸ¬ì•¼ í•œë‹¤. ê·¸ëŸ¬ë‚˜ ì‹œìŠ¤í…œí”„ë¡œê·¸ë˜ë° ì—°êµ¬ì‹¤ì— ê·¼ë¬´í•˜ëŠ” ìŠ¹í˜ì—°êµ¬ì›ì€ ì‚¬ì „ì„ ì‚¬ìš©í•´ ì´ ì…ë ¥ì„ ë” ë¹¨ë¦¬ í•  ìˆ˜ ìˆëŠ” ìíŒ ëª¨ë“ˆì„ ê°œë°œí•˜ì˜€ë‹¤. ì´ ëª¨ë“ˆì€ ì‚¬ì „ ë‚´ì—ì„œ ê°€ëŠ¥í•œ ë‹¤ìŒ ê¸€ìê°€ í•˜ë‚˜ë¿ì´ë¼ë©´ ê·¸ ê¸€ìë¥¼ ë²„íŠ¼ ì…ë ¥ ì—†ì´ ìë™ìœ¼ë¡œ ì…ë ¥í•´ ì¤€ë‹¤! ìì„¸í•œ ì‘ë™ ê³¼ì •ì„ ì„¤ëª…í•˜ìë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

    1. ëª¨ë“ˆì´ ë‹¨ì–´ì˜ ì²« ë²ˆì§¸ ê¸€ìë¥¼ ì¶”ë¡ í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì¦‰, ì‚¬ì „ì˜ ëª¨ë“  ë‹¨ì–´ê°€ ê°™ì€ ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘í•˜ë”ë¼ë„ ë°˜ë“œì‹œ ì²« ê¸€ìëŠ” ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì…ë ¥í•´ì•¼ í•œë‹¤.
    
    2. ê¸¸ì´ê°€ 1 ì´ìƒì¸ ë¬¸ìì—´ c1c2...cnì´ ì§€ê¸ˆê¹Œì§€ ì…ë ¥ë˜ì—ˆì„ ë•Œ, ì‚¬ì „ ì•ˆì˜ ëª¨ë“  c1c2...cnìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ê°€ c1c2...cncë¡œë„ ì‹œì‘í•˜ëŠ” ê¸€ì cê°€ ì¡´ì¬í•œë‹¤ë©´ ëª¨ë“ˆì€ ì‚¬ìš©ìì˜ ë²„íŠ¼ ì…ë ¥ ì—†ì´ë„ ìë™ìœ¼ë¡œ cë¥¼ ì…ë ¥í•´ ì¤€ë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ì‚¬ìš©ìì˜ ì…ë ¥ì„ ê¸°ë‹¤ë¦°ë‹¤.


ì˜ˆë¥¼ ë“¤ë©´, ì‚¬ì „ì— "hello", "hell", "heaven", "goodbye" 4ê°œì˜ ë‹¨ì–´ê°€ ìˆê³  ì‚¬ìš©ìê°€ "h"ë¥¼ ì…ë ¥í•˜ë©´ ëª¨ë“ˆì€ ìë™ìœ¼ë¡œ "e"ë¥¼ ì…ë ¥í•´ ì¤€ë‹¤. ì‚¬ì „ìƒì˜ "h"ë¡œ ì‹œì‘í•˜ëŠ” ë‹¨ì–´ë“¤ì€ ëª¨ë‘ ê·¸ ë’¤ì— "e"ê°€ ì˜¤ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ë‹¨ì–´ë“¤ ì¤‘ "hel"ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒë„, "hea"ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒë„ ìˆê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ ëª¨ë“ˆì€ ì‚¬ìš©ìì˜ ì…ë ¥ì„ ê¸°ë‹¤ë¦°ë‹¤. ì´ì–´ì„œ ì‚¬ìš©ìê°€ "l"ì„ ì…ë ¥í•˜ë©´ ëª¨ë“ˆì€ "l"ì„ ìë™ìœ¼ë¡œ ì…ë ¥í•´ ì¤€ë‹¤. ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì„œ ëë‚˜ëŠ” ë‹¨ì–´ì¸ "hell"ê³¼ ê·¸ë ‡ì§€ ì•Šì€ ë‹¨ì–´ì¸ "hello"ê°€ ê³µì¡´í•˜ë¯€ë¡œ ëª¨ë“ˆì€ ë‹¤ì‹œ ì…ë ¥ì„ ê¸°ë‹¤ë¦°ë‹¤. ì‚¬ìš©ìê°€ "hell"ì„ ì…ë ¥í•˜ê¸° ì›í•œë‹¤ë©´ ì—¬ê¸°ì„œ ì…ë ¥ì„ ë©ˆì¶œ ê²ƒì´ê³ , "hello"ë¥¼ ì…ë ¥í•˜ê¸° ì›í•œë‹¤ë©´ ì§ì ‘ "o" ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì…ë ¥í•´ ì¤˜ì•¼ í•œë‹¤. ë”°ë¼ì„œ "hello"ë¥¼ ì…ë ¥í•˜ë ¤ë©´ ì‚¬ìš©ìëŠ” ì´ 3ë²ˆ ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•˜ê³ , "hell", "heaven"ì€ 2ë²ˆì´ë‹¤. "heaven"ì˜ ê²½ìš° "he"ì—ì„œ "a"ë¥¼ ì…ë ¥í•˜ë©´ ë°”ë¡œ ë’·ë¶€ë¶„ì´ ëª¨ë‘ ìë™ìœ¼ë¡œ ì…ë ¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ë¹„ìŠ·í•˜ê²Œ, "goodbye"ëŠ” ë‹¨ í•œ ë²ˆë§Œ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ì…ë ¥ì´ ì™„ë£Œë  ê²ƒì´ë‹¤. "g"ë¥¼ ì…ë ¥í•˜ëŠ” ìˆœê°„ ë’¤ì— ì˜¤ëŠ” ê¸€ìê°€ í•­ìƒ ìœ ì¼í•˜ë¯€ë¡œ ëê¹Œì§€ ìë™ìœ¼ë¡œ ì…ë ¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ë•Œ ì‚¬ì „ì— ìˆëŠ” ë‹¨ì–´ë“¤ì„ ì…ë ¥í•˜ê¸° ìœ„í•´ ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•˜ëŠ” íšŸìˆ˜ì˜ í‰ê· ì€ (3 + 2 + 2 + 1)/4 = 2.00ì´ë‹¤.

ì‚¬ì „ì´ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ì„œ ì´ì™€ ê°™ì´ ê° ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ê¸° ìœ„í•´ ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•˜ëŠ” íšŸìˆ˜ì˜ í‰ê· ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

# ğŸ” ì ‘ê·¼ë²•

Q.5670 íœ´ëŒ€í° ìíŒ ë¬¸ì œì…ë‹ˆë‹¤.

ì—¬ëŸ¬ê°€ì§€ ì˜ì–´ ë‹¨ì–´ë“¤ì´ ì €ì¥ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì›í•˜ëŠ” ë‹¨ì–´ë¥¼ ìë™ì™„ì„±ì„ ì´ìš©í•´ ì´ì™€ ê°™ì´ ê° ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ê¸° ìœ„í•´ ë²„íŠ¼ì„ ëˆŒëŸ¬ì•¼ í•˜ëŠ” íšŸìˆ˜ì˜ í‰ê· ì„ êµ¬í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

ë‹¨ì–´ì˜ ìë™ì™„ì„±, ëŒ€í‘œì ì¸ Trie ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

Trieë¥¼ ì´ìš©í•´ í’€ì´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

Trieë¥¼ ë§Œë“¤ì–´ Trieì— ê° ë‹¨ì–´ë“¤ì„ ëª¨ë‘ ì €ì¥í•´ì¤ë‹ˆë‹¤.

ê·¸ í›„ ì›í•˜ëŠ” ë‹¨ì–´ë¥¼ Trieë¥¼ ì´ìš©í•´ íƒìƒ‰í•©ë‹ˆë‹¤.

ì´ë•Œ ìë™ì™„ì„± ê¸°ëŠ¥ì„ ì´ìš©í•˜ê¸° ìœ„í•´ ì£¼ì–´ì§„ ì¡°ê±´ì´ ìˆìŠµë‹ˆë‹¤.

ë°”ë¡œ ë‹¤ìŒ ê²½ìš°ì˜ ìˆ˜ê°€ í•œê°€ì§€ì´ì–´ì•¼ë§Œ ë°”ë¡œ ìë™ì™„ì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë‹¤ìŒì— ì˜¬ ìˆ˜ ìˆëŠ” ì•ŒíŒŒë²³ ê²½ìš°ì˜ ìˆ˜ê°€ ë‘ê°€ì§€ ì´ìƒì´ë¼ë©´ ë°˜ë“œì‹œ ì‚¬ìš©ìì˜ ì…ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ë˜í•œ ì´ë¯¸ ì–´ë– í•œ ë‹¨ì–´ê°€ ì™„ì„±ì´ ë˜ì—ˆì„ ë•Œ ê·¸ ë’¤ë¡œ ìƒˆë¡œìš´ ì•ŒíŒŒë²³ì´ ì´ì–´ì ¸ ë‹¤ìŒ ë‹¨ì–´ë¥¼ íƒìƒ‰í•˜ê¸° ìœ„í•´ì„œë„

ì‚¬ìš©ìì˜ ì…ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.

Trie íƒìƒ‰ì— ì´ë¥¼ ì´ìš©í•˜ë©´ ë‹µì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
                //ìì‹ë…¸ë“œ í¬ê¸°ê°€ 2ì´ìƒì´ë©´ ì„ íƒì§€ê°€ 2ê°€ì§€ ì´ìƒì´ë¯€ë¡œ ì…ë ¥í•´ì•¼í•œë‹¤
                if(thisNode.childNodes.size() >= 2){
                    count++;
                }

                //ìì‹ ë…¸ë“œê°€ í•˜ë‚˜ë¼ë©´ ìë™ì™„ì„±ì´ ë˜ì§€ë§Œ ë§Œì•½ ì´ë¯¸ ë¬¸ìì—´ì´ ì™„ì„± ëœ ìƒíƒœë¼ë©´ ë‹¤ë¥¸ ë¬¸ìì—´ì„ ìœ„í•´ ì…ë ¥í•´ì•¼í•œë‹¤.
                if(thisNode.childNodes.size() == 1 && thisNode.isLastString){
                    count++;
                }
```

# ğŸ’» ì½”ë“œ

```java
package problem.string.trie;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

public class Main_5670 {

    static int n;
    static Trie trie;
    static String[] word;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        String input;
        while ( (input = br.readLine()) != null ){
            n = Integer.parseInt(input);
            word = new String[n];
            for(int i=0; i<n; i++){
                word[i] = br.readLine();
            }
            inputTrie();
            solve();
        }
    }

    private static void inputTrie() {
        Arrays.sort(word);
        trie = new Trie();
        for(int i=0; i<n; i++){
            trie.insert(word[i]);
        }
    }

    private static void solve(){
        int count = 0;
        Arrays.sort(word);
        for(int i=0; i<n; i++) {
            int result = trie.contains(word[i]);
            count+=result;
        }
        System.out.println(String.format("%.2f",(double)count/n));
    }

    static class TrieNode {

        public Map<Character, TrieNode> childNodes = new HashMap<>();
        private boolean isLastString;

        public Map<Character, TrieNode> getChildNodes() {
            return this.childNodes;
        }

        public boolean isLastString() {
            return this.isLastString;
        }

        public void setLastString(boolean lastString) {
            this.isLastString = lastString;
        }
    }

    static class Trie {
        private TrieNode rootNode;

        public Trie() {
            rootNode = new TrieNode();
        }

        // ìì‹ ë…¸ë“œ ì¶”ê°€
        boolean insert(String str) {
            TrieNode thisNode = this.rootNode;

            for (int i = 0; i < str.length(); i++) {
                char currentString = str.charAt(i);
                if(thisNode.childNodes.get(currentString) == null){
                    thisNode.childNodes.put(currentString,new TrieNode());
                }
                thisNode = thisNode.childNodes.get(currentString);
            }
            thisNode.setLastString(true);
            return true;
        }

        int contains(String str) {
            TrieNode thisNode = this. rootNode;
            int count = 1;
            thisNode = thisNode.childNodes.get(str.charAt(0));
            for (int i = 1; i < str.length(); i++) {
                char currentChar = str.charAt(i);

                //ìì‹ë…¸ë“œ í¬ê¸°ê°€ 2ì´ìƒì´ë©´ ì„ íƒì§€ê°€ 2ê°€ì§€ ì´ìƒì´ë¯€ë¡œ ì…ë ¥í•´ì•¼í•œë‹¤
                if(thisNode.childNodes.size() >= 2){
                    count++;
                }

                //ìì‹ ë…¸ë“œê°€ í•˜ë‚˜ë¼ë©´ ìë™ì™„ì„±ì´ ë˜ì§€ë§Œ ë§Œì•½ ì´ë¯¸ ë¬¸ìì—´ì´ ì™„ì„± ëœ ìƒíƒœë¼ë©´ ë‹¤ë¥¸ ë¬¸ìì—´ì„ ìœ„í•´ ì…ë ¥í•´ì•¼í•œë‹¤.
                if(thisNode.childNodes.size() == 1 && thisNode.isLastString){
                    count++;
                }

                thisNode = thisNode.childNodes.get(currentChar);
            }
            return count;
        }
    }
}
```